services:
  # Nocostcoin Node Service
  - type: web
    name: nocostcoin-node
    env: docker
    dockerfilePath: ./render.Dockerfile
    dockerContext: .
    region: oregon # Choose: oregon, frankfurt, singapore
    plan: starter # Free tier (512MB RAM)
    branch: main
    healthCheckPath: /stats
    envVars:
      - key: RUST_LOG
        value: info
      - key: PORT
        value: 8000
    # Ports exposed
    # Port 8000 for API (automatically mapped by Render)
    # Note: P2P port 9000 requires paid plan for TCP routing
    
  # Optional: UI Service (if deploying UI separately)
  # Uncomment if you want to deploy UI on Render
  # - type: web
  #   name: nocostcoin-ui
  #   env: node
  #   buildCommand: cd ui && npm install && npm run build
  #   startCommand: cd ui && npm start
  #   region: oregon
  #   plan: starter
  #   branch: main
  #   envVars:
  #     - key: NEXT_PUBLIC_API_URL
  #       fromService:
  #         type: web
  #         name: nocostcoin-node
  #         envVarKey: RENDER_EXTERNAL_URL
  #     - key: PORT
  #       value: 3000

# Note for Render Free Tier:
# - Services sleep after 15 minutes of inactivity
# - Upgrade to paid plan ($7/mo) for continuous operation
# - P2P networking (port 9000) requires paid plan
# - Free tier suitable for API-only testing
